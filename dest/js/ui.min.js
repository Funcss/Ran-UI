"use strict";function debounce(n,o,l){var a;return function(){var t=this,e=arguments,i=l&&!a;clearTimeout(a),a=setTimeout(function(){a=null,l||n.apply(t,e)},o),i&&n.apply(t,e)}}function MUIinput(){for(var t=document.getElementsByClassName("MUIinput"),e=0;e<t.length;e++)t[e].onfocus=function(){this.closest(".input-MUITitle").classList.add("focus")},t[e].onblur=function(){this.value||this.closest(".input-MUITitle").classList.remove("focus")}}function stop(t){t.forEach(function(t){document.querySelectorAll(t).forEach(function(t){t.onclick=function(t){t.stopPropagation()}})})}function tabs(){document.querySelectorAll(".tabs").forEach(function(e){e.querySelectorAll("a").forEach(function(t){t.matches(".active")&&(t.parentElement.style.setProperty("--target-width",t.clientWidth),t.parentElement.style.setProperty("--target-height",t.clientHeight),t.parentElement.style.setProperty("--target-left",t.offsetLeft),t.parentElement.style.setProperty("--target-top",t.offsetTop)),t.onclick=function(){e.querySelector(".active")&&e.querySelector(".active").classList.remove("active"),this.classList.add("active"),this.parentElement.style.setProperty("--target-width",this.clientWidth),this.parentElement.style.setProperty("--target-height",this.clientHeight),this.parentElement.style.setProperty("--target-left",this.offsetLeft),this.parentElement.style.setProperty("--target-top",this.offsetTop)}})})}function range(){document.querySelectorAll(".range").forEach(function(i){var n,o,t=i.querySelector(".range-drap");t.onmousedown=function(t){o=i.clientWidth,n=t.clientX},t.onmouseout=function(){return!1},t.onmousemove=function(t){var e=t.clientX;return i.style.setProperty("--range",(e-n)/o*100),t.preventDefault&&t.preventDefault(),!1}})}function dragMove(t,e){var i,n;t.onmousedown=function(){this.classList.add("dragMove"),i=this.scrollLeft,t.onmousemove=function(){n=this.scrollLeft},t.onmouseup=function(){this.classList.remove("dragMove"),10<n-i&&n-i<e&&(this.scrollLeft=i+e),10<n-i&&e<=n-i&&(this.scrollLeft=n),n-i<=10&&-10<=n-i&&(this.scrollLeft=i),n-i<-10&&-e<n-i&&(this.scrollLeft=i-e),n-i<-10&&n-i<-e&&(this.scrollLeft=n)}}}function listShow(t){anime({targets:t,duration:400,easing:"cubicBezier(0, 0, 0.2, 1)",translateX:[-10,0],opacity:[0,1],delay:anime.stagger(56)})}function drawerRightStack(t){var e=document.querySelector(".drawer-right-show");e&&e!=t?anime({targets:e,scale:.92,zIndex:[1,1],easing:"cubicBezier(0, 0, 0.2, 1)",duration:400,begin:function(){t.classList.add("drawer-right-show")},complete:function(){e.removeAttribute("style"),e.classList.remove("drawer-right-show")}}):t.classList.add("drawer-right-show")}function drawerLeftStack(t){var e=document.querySelector(".drawer-left-show");e&&e!=t?anime({targets:e,scale:.92,zIndex:[1,1],easing:"cubicBezier(0, 0, 0.2, 1)",duration:400,begin:function(){t.classList.add("drawer-left-show")},complete:function(){e.removeAttribute("style"),e.classList.remove("drawer-left-show")}}):t.classList.add("drawer-left-show")}function drawerRightClose(){var t=document.querySelector(".drawer-right-show");anime({targets:t,scale:.92,opacity:0,complete:function(){t.removeAttribute("style"),t.classList.remove("drawer-right-show")}})}function drawerLeftClose(){var t=document.querySelector(".drawer-left-show");anime({targets:t,scale:.92,opacity:0,complete:function(){t.removeAttribute("style"),t.classList.remove("drawer-left-show")}})}function backdropLoadingShow(t){anime({targets:t,opacity:1,duration:220,easing:"cubicBezier(0, 0, 0.2, 1)",begin:function(){document.querySelector(t).style.visibility="visible",document.documentElement.style.overflow="hidden"}})}function backdropLoadingHide(t){anime({targets:t,opacity:0,duration:220,easing:"cubicBezier(0, 0, 0.2, 1)",begin:function(){document.documentElement.removeAttribute("style")},complete:function(){document.querySelector(t).style.visibility="hidden"}})}function toast(t,e,i,n){e=e||"toastBar",n=n||!0;var o,l,a,s,c,r,d=document.createElement("div");d.classList.add("toast",e),d.innerHTML=t,"leftBottom"==i&&(document.getElementById("toast-leftBottom")?document.getElementById("toast-leftBottom").appendChild(d):((o=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(o),o.id="toast-leftBottom",o.appendChild(d))),"leftTop"==i&&(console.log(this),document.getElementById("toast-leftTop")?document.getElementById("toast-leftTop").appendChild(d):((l=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(l),l.id="toast-leftTop",l.appendChild(d))),"rightTop"==i&&(document.getElementById("toast-rightTop")?document.getElementById("toast-rightTop").appendChild(d):((a=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(a),a.id="toast-rightTop",a.appendChild(d))),"rightBottom"==i&&(console.log(document.getElementById("toast-rightBottom")),document.getElementById("toast-rightBottom")?document.getElementById("toast-rightBottom").appendChild(d):((s=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(s),s.id="toast-rightBottom",s.appendChild(d))),"topCenter"!=i&&""!=i||(document.getElementById("toast-topCenter")?document.getElementById("toast-topCenter").appendChild(d):((c=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(c),c.id="toast-topCenter",c.style.transform="translateX(-50%)",c.appendChild(d))),"bottomCenter"==i&&(document.getElementById("toast-bottomCenter")?document.getElementById("toast-bottomCenter").appendChild(d):((r=document.createElement("div")).classList.add("toastBox"),document.body.appendChild(r),r.id="toast-bottomCenter",r.style.transform="translateX(-50%)",r.appendChild(d))),(n?toastAuto:toastShow)(d)}function toastShow(t){anime({targets:t,easing:"easeOutBack",duration:300,opacity:1,scale:[.8,1],begin:function(){t.style.display="flex"}})}function toastAuto(t){anime({targets:t,easing:"easeOutBack",duration:300,opacity:1,scale:[.8,1],endDelay:1e3,direction:"alternate",begin:function(){t.style.display="flex"},complete:function(){t.parentNode.removeChild(t)}})}function toastHide(t){anime({targets:t,easing:"easeOutBack",duration:300,opacity:0,scale:.8,complete:function(){t.style.display="none"}})}function dialogShow(t){var e=t.querySelector(".dialog");anime.timeline({}).add({targets:t,duration:220,easing:"cubicBezier(0.4, 0, 0.2, 1)",opacity:1,begin:function(){t.style.visibility="visible",e.style.visibility="visible",document.documentElement.style.overflow="hidden"}},0).add({targets:e,duration:220,easing:"cubicBezier(0, 0, 0.2, 1)",scale:[.95,1],opacity:1},120)}function dialogHide(t){anime({targets:t,easing:"cubicBezier(0.4, 0, 0.2, 1)",duration:220,opacity:0,complete:function(){t.style.visibility="hidden",t.querySelectorAll(".dialog").forEach(function(t){t.removeAttribute("style")}),document.documentElement.removeAttribute("style")}})}function dialogStackNext(t,e,i){i?anime.timeline({easing:"cubicBezier(0, 0, 0.2, 1)",duration:220}).add({targets:i,translateY:"20px",scale:"0.84",opacity:0,begin:function(){e.style.visibility="visible"},complete:function(){i.removeAttribute("style")}},0).add({targets:e,translateY:["-30%",0],opacity:1},240).add({targets:t,translateY:"10px",scale:.92},120):anime.timeline({easing:"cubicBezier(0, 0, 0.2, 1)",duration:220}).add({targets:e,translateY:["-30%",0],scale:[1.05,1],opacity:1,begin:function(){e.style.visibility="visible"}},120).add({targets:t,translateY:"10px",scale:.92},0)}function dialogStackPrev(t,e,i){i?anime.timeline({easing:"cubicBezier(0, 0, 0.2, 1)",duration:220}).add({targets:t,translateY:"-30%",opacity:0,begin:function(){i.style.visibility="visible"},complete:function(){t.removeAttribute("style")}},0).add({targets:e,translateY:0,scale:1},120).add({targets:i,translateY:["20px","10px"],scale:["0.84","0.92"],opacity:1},240):anime.timeline({easing:"cubicBezier(0, 0, 0.2, 1)",duration:220}).add({targets:t,translateY:"-30%",opacity:0,complete:function(){t.removeAttribute("style")}},0).add({targets:e,translateY:0,scale:1},120)}function getViewport(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,scrollWidth:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),scrollHeight:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight)}}function getElementInfo(t){var e=t.getBoundingClientRect(),i=e.top,n=e.left,o=getViewport().height-e.bottom,l=getViewport().width-e.right,a=e.top+window.pageYOffset-document.documentElement.clientTop,s=e.left+window.pageXOffset-document.documentElement.clientLeft,c=e.width,r=e.height;return{top:a,left:s,width:c,height:r,centerX:s+c/2,centerY:a+r/2,viewTop:i,viewLeft:n,viewBottom:o,viewRight:l}}function tipsShow(t){anime({targets:t,duration:300,easing:"easeOutBack",scale:[.5,1],opacity:[0,1]})}function tipsHide(t){anime({targets:t,duration:300,easing:"easeOutBack",scale:[1,.5],opacity:[1,0],complete:function(){t.parentNode.removeChild(t)}})}function tooltips(t,e,i){i=i||"top";var n=getElementInfo(t).top,o=getElementInfo(t).left,l=t.clientWidth,a=t.clientHeight,s=getElementInfo(t).centerX,c=getElementInfo(t).centerY,r=getElementInfo(t).viewTop,d=getElementInfo(t).viewLeft,u=getElementInfo(t).viewBottom,m=getElementInfo(t).viewRight,p=document.createElement("div"),f=document.createElement("div");p.classList.add("tooltip"),p.classList.add("tooltip-"+i),f.classList.add("tooltip-info"),f.innerHTML+=e,p.appendChild(f);for(var g=document.getElementsByClassName("tooltip"),h=0;h<g.length;h++)tipsHide(g[h]);document.body.appendChild(p);var y=p.getBoundingClientRect().width+12,v=p.getBoundingClientRect().height+12;"top"==i&&v<r&&(p.style.left=s+"px",p.style.top=n-v+"px",p.style.transform="translateX(-50%)",tipsShow(p)),"top"==i&&r<=v&&(p.classList.remove("tooltip-"+i),p.classList.add("tooltip-bottom"),p.style.left=s+"px",p.style.top=n+a+12+"px",p.style.transform="translateX(-50%)",tipsShow(p)),"bottom"==i&&v<u&&(p.style.left=s+"px",p.style.top=n+a+12+"px",p.style.transform="translateX(-50%)",tipsShow(p)),"bottom"==i&&u<=v&&(p.classList.remove("tooltip-"+i),p.classList.add("tooltip-bottom"),p.style.left=s+"px",p.style.top=n-v+"px",p.style.transform="translateX(-50%)",tipsShow(p)),"left"==i&&y<d&&(p.style.left=o-y+"px",p.style.top=c+"px",p.style.transform="translateY(-50%)",tipsShow(p)),"left"==i&&d<=y&&(p.classList.remove("tooltip-"+i),p.classList.add("tooltip-right"),p.style.left=o+l+12+"px",p.style.top=c+"px",p.style.transform="translateY(-50%)",tipsShow(p)),"right"==i&&y<m&&(p.style.left=o+l+12+"px",p.style.top=c+"px",p.style.transform="translateY(-50%)",tipsShow(p)),"right"==i&&m<=y&&(p.classList.remove("tooltip-"+i),p.classList.add("tooltip-right"),p.style.left=o-y+"px",p.style.top=c+"px",p.style.transform="translateY(-50%)",tipsShow(p)),document.onclick=function(){for(var t=0;t<g.length;t++)tipsHide(g[t])},event.stopPropagation(),p.onclick=function(t){t.stopPropagation()}}function menuShow(t){document.getElementsByClassName("menu");anime({targets:t,duration:100,easing:"cubicBezier(0, 0, 0.2, 1)",scale:[.8,1],opacity:[0,1],begin:function(){t.style.display="block",t.style.visibility="visible"}})}function menuHide(t,e){e=e||0,anime({targets:t,duration:100,delay:e,easing:"cubicBezier(0.4, 0, 0.2, 1)",opacity:[1,0],complete:function(){t.style.display="none",t.style.visibility="hidden",t.classList.remove("menuShow")}})}function menu(l,a){for(var t=getElementInfo(l).top,e=getElementInfo(l).left,i=getElementInfo(l).width,s=getElementInfo(l).height,c=(getElementInfo(l).centerX,getElementInfo(l).centerY,getElementInfo(l).viewTop),n=getElementInfo(l).viewLeft,r=getElementInfo(l).viewBottom,o=getElementInfo(l).viewRight,d=document.getElementsByClassName("menuShow"),u=0;u<d.length;u++)a!=d[u]&&menuHide(d[u]);document.body.appendChild(a),a.style.display="block",a.style.minWidth=i+"px",a.classList.add("menuShow");var m,p,f=a.querySelector(".selected"),g=a.getBoundingClientRect().width,h=a.getBoundingClientRect().height;if(f&&(m=f.clientHeight,p=f.offsetTop,a.scrollTop=p-h/2+m/2),h<=r||c<=h?(a.style.top=t+s+"px",a.style.transformOrigin="center top"):(a.style.top=t-h+"px",a.style.transformOrigin="center bottom"),menuShow(a),g-i+48<o&&(a.style.left=e+"px",a.style.right="auto"),o<g-i+48&&g-i-o+48<n&&(a.style.left="auto",a.style.right="48px"),g>getViewport().width-96&&(a.style.left="48px"),window.addEventListener("resize",debounce(function(){var t=getElementInfo(l).viewLeft,e=getElementInfo(l).viewRight,i=getElementInfo(l).top,n=getElementInfo(l).left,o=getElementInfo(l).width;a.style.top=h<=r||c<=h?i+s+"px":i-h+"px",a.style.minWidth=o+"px",a.style.left=n+o/2+"px",g-o+48<e&&(a.style.left=n+"px",a.style.right="auto"),e<g-o+48&&g-o-e+48<t&&(a.style.left="auto",a.style.right="48px"),g>getViewport().width-96&&(a.style.left="48px")},100)),document.onclick=function(){for(u=0;u<d.length;u++)menuHide(d[u])},event.stopPropagation(),a.onclick=function(t){t.stopPropagation()},l.matches(".menu-select"))for(var y=a.querySelectorAll(".menu-item"),u=0;u<y.length;u++)y[u].onclick=function(){l.textContent=this.textContent,a.querySelector(".selected").classList.remove("selected"),this.classList.add("selected"),menuHide(a,150)}}function gridResize(t){for(var e=t.ownerDocument.defaultView.getComputedStyle(t,null).gridTemplateColumns.trim().split(/\s+/).length,o=t.clientWidth/e,i=t.querySelectorAll(".grid-resize"),n=new ResizeObserver(function(t){var e=t[0].target,i=e.clientWidth,n=Math.round(i/o);e.style.gridColumn="span "+n,e.parentNode.classList.add("has-resize"),e.onmouseup=function(){this.style.width=""}}),l=0;l<i.length;l++)n.observe(i[l])}function numberShow(){document.querySelectorAll(".numberShow").forEach(function(t){var e,i;e=t.dataset.start?t.dataset.start:0,i=t.dataset.end?t.dataset.end:0;var n=parseFloat(i).countDecimals();anime({targets:t,duration:1e3,easing:"easeOutSine",innerHTML:[e,i],round:Math.pow(10,n)})})}function mediaMatrix(t){var e=t.querySelectorAll(".media-item"),r=t.querySelectorAll("img");e.forEach(function(t,c){t.onclick=function(){var i=document.createElement("div");i.classList.add("media-view"),i.classList.add("dragscroll"),i.insertAdjacentHTML("beforeend",'<div class="media-view-tools"> <a href="javascript:;" class="media-view-prev">上</a> <a href="javascript:;" class="media-view-next">下</a> <a href="javascript:;" class="media-view-toggle">窗</a> <a href="javascript:;" class="media-view-close">关</a> </div>');for(var t=0;t<r.length;t++){var e=document.createElement("div");e.classList.add("media-view-item");var n=document.createElement("img");n.setAttribute("src",r[t].getAttribute("data-img")),n.setAttribute("loading","lazy"),e.appendChild(n),i.appendChild(e),t==c&&e.classList.add("active")}document.body.appendChild(i),i.scrollLeft=i.clientWidth*c;var o=i.querySelector(".media-view-next"),l=i.querySelector(".media-view-prev"),a=i.querySelector(".media-view-close");o.onclick=function(){i.scrollLeft+=i.clientWidth},l.onclick=function(){i.scrollLeft-=i.clientWidth},a.onclick=function(){anime({targets:i,duration:220,easing:"cubicBezier(0, 0, 0.2, 1)",opacity:[1,0],complete:function(){document.body.removeChild(i)}})};var s=null;i.addEventListener("scroll",function(){clearTimeout(s),s=setTimeout(function(){[].slice.call(i.querySelectorAll(".media-view-item")).forEach(function(t,e){e=e||0,Math.abs(t.getBoundingClientRect().left-i.getBoundingClientRect().left)<10?(t.classList.add("active"),l.style.opacity=0==e?"30%":"100%",e==i.querySelectorAll(".media-view-item").length-1?o.style.opacity="30%":o.style.opacity="100%"):t.classList.remove("active")})},100)}),anime({targets:i,duration:300,easing:"cubicBezier(0.4, 0, 0.2, 1)",opacity:[0,1],complete:function(){dragscroll.reset(),dragMove(i,i.clientWidth),i.style.scrollBehavior="smooth"}})}})}function bottomHide(t){anime({targets:t,duration:400,easing:"easeOutBack",translateY:[0,"100%"],opacity:[1,0],complete:function(){t.style.visibility="hidden"}})}function timeTool(t){var i=t.querySelector(".maptool-timeline-list"),e=t.querySelector(".maptool-timeline-next"),n=t.querySelector(".maptool-timeline-prev");anime({targets:t,duration:400,easing:"easeOutBack",translateY:["100%",0],opacity:[0,1],begin:function(){t.style.visibility="visible"},complete:function(){dragMove(i,200),i.querySelectorAll("li").forEach(function(t,e){t.matches(".active")&&(t.parentElement.style.setProperty("--target-width",t.clientWidth),t.parentElement.style.setProperty("--target-height",t.clientHeight),t.parentElement.style.setProperty("--target-left",t.offsetLeft),t.parentElement.style.setProperty("--target-top",t.offsetTop),i.scrollLeft=t.offsetLeft-i.clientWidth/2),t.onclick=function(){i.querySelector(".active")&&i.querySelector(".active").classList.remove("active"),this.classList.add("active"),this.parentElement.style.setProperty("--target-width",this.clientWidth),this.parentElement.style.setProperty("--target-height",this.clientHeight),this.parentElement.style.setProperty("--target-left",this.offsetLeft),this.parentElement.style.setProperty("--target-top",this.offsetTop),i.scrollLeft=this.offsetLeft-i.clientWidth/2}}),e.onclick=function(){i.scrollLeft+=i.clientWidth},n.onclick=function(){i.scrollLeft-=i.clientWidth}}})}function parabolla(t,e,i){var n=getElementInfo(t).top,o=getElementInfo(t).left,l=getElementInfo(e).top,a=getElementInfo(e).left,s=document.createElement("div");s.style.position="absolute",s.style.top=n+"px",s.style.left=o+"px",s.style.width=t.clientWidth+"px",s.style.height=t.clientHeight+"px",s.classList.add(i),document.body.appendChild(s),anime({targets:s,left:{value:a,duration:400,easing:"linear"},top:{value:l,duration:400,easing:"cubicBezier(.6,-1.14,.92,.57)"},opacity:{value:[1,.2],duration:400,easing:"linear"},begin:function(){}})}function pileScroll(){document.querySelectorAll(".pile").forEach(function(e){var t=e.querySelectorAll(".pile-item"),i=getComputedStyle(e,null),a=parseInt(i.paddingTop);t.forEach(function(i){var n,o=i.offsetHeight,l=i.offsetTop,t=i.nextElementSibling;t&&(n=t.offsetTop),e.addEventListener("scroll",function(){var t=this.scrollTop+a,e=(o+l-t)/o;l<t&&t<n&&(i.style.willChange="transform",i.style.opacity=1,i.style.transform="scale("+(.8*e/10+.92)+")"),n<=t&&(i.style.opacity=0,i.style.transform="scale(0.92)",i.style.willChange=""),t<=l&&(i.style.opacity=1,i.style.transform="scale(1)",i.style.willChange="")})})})}function cardNext(t){anime({targets:t,duration:220,begin:function(){t.classList.add("next")},complete:function(){t.classList.remove("next"),t.parentNode.insertBefore(t,t.parentNode.firstChild),cardStack()}})}function cardPrev(t){anime({targets:t,duration:120,begin:function(){t.classList.add("prev"),t.parentNode.appendChild(t)},complete:function(){t.classList.remove("prev"),cardStack()}})}function cardStack(){document.querySelectorAll(".card-stack").forEach(function(t){var e=t.querySelector(".card-stack-item:first-child"),i=t.querySelector(".card-stack-item:last-child"),n=i.querySelector(".card-next"),o=i.querySelector(".card-prev");n.onclick=function(){cardNext(i)},o.onclick=function(){cardPrev(e)}})}function accordion(){document.querySelectorAll(".accordion-toggle").forEach(function(t){var e=t.closest(".accordion-item").querySelector(".accordion-content"),i=e.querySelector(".accordion-content-info").getBoundingClientRect().height;t.onclick=function(){e.matches(".show")?(e.style.height=0,e.classList.remove("show")):(e.style.height=i+"px",e.classList.add("show"))}})}Number.prototype.countDecimals=function(){return Math.floor(this.valueOf())!==this.valueOf()&&this.toString().split(".")[1].length||0};